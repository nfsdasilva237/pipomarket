==============================================
  GUIDE D'INSTALLATION FIREBASE
  PipoMarket - SystÃ¨me d'authentification
==============================================

ğŸ“¦ FICHIERS CRÃ‰Ã‰S:
==================
1. âœ… firebase.js - Configuration Firebase
2. âœ… LoginScreen.js - Page de connexion
3. âœ… RegisterScreen.js - Page d'inscription (Client/Startup)
4. âœ… StartupDashboardScreen.js - Dashboard vendeur
5. âœ… AddProductScreen.js - Ajouter un produit


ğŸ”¥ Ã‰TAPE 1: CRÃ‰ER UN PROJET FIREBASE
=====================================

1. Allez sur: https://console.firebase.google.com

2. Cliquez sur "Ajouter un projet"

3. Nom du projet: "PipoMarket"

4. Activez Google Analytics (recommandÃ©)

5. CrÃ©ez le projet (attendre 30 secondes)


ğŸŒ Ã‰TAPE 2: CONFIGURER L'APPLICATION WEB
=========================================

1. Dans le dashboard Firebase, cliquez sur l'icÃ´ne Web: </>

2. Nom de l'app: "PipoMarket"

3. Cochez "Firebase Hosting" (optionnel)

4. Cliquez sur "Enregistrer l'application"

5. COPIEZ la configuration qui apparaÃ®t:

const firebaseConfig = {
  apiKey: "AIza...",
  authDomain: "pipomarket-xxxxx.firebaseapp.com",
  projectId: "pipomarket-xxxxx",
  storageBucket: "pipomarket-xxxxx.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef"
};


ğŸ” Ã‰TAPE 3: ACTIVER L'AUTHENTIFICATION
=======================================

1. Dans le menu Firebase, allez dans "Authentication"

2. Cliquez sur "Commencer"

3. Allez dans l'onglet "Sign-in method"

4. Activez "Email/Password"
   - Cliquez sur "Email/Password"
   - Activez le premier bouton (Email/mot de passe)
   - Cliquez "Enregistrer"


ğŸ’¾ Ã‰TAPE 4: CONFIGURER FIRESTORE DATABASE
==========================================

1. Dans le menu Firebase, allez dans "Firestore Database"

2. Cliquez sur "CrÃ©er une base de donnÃ©es"

3. Choisissez "DÃ©marrer en mode test"
   (On sÃ©curisera plus tard)

4. Choisissez un emplacement: "eur3 (europe-west)"

5. Cliquez "Activer"


ğŸ“‚ Ã‰TAPE 5: CRÃ‰ER LES COLLECTIONS
==================================

Firestore va crÃ©er automatiquement les collections quand vous ajouterez des donnÃ©es.
Mais voici la structure pour rÃ©fÃ©rence:

Collections Ã  crÃ©er:
--------------------

1. users/
   - email (string)
   - fullName (string)
   - phone (string)
   - role (string): "client" ou "startup"
   - approved (boolean)
   - startupName (string, seulement pour startups)
   - category (string, seulement pour startups)
   - createdAt (timestamp)

2. startups/
   - name (string)
   - ownerId (string)
   - category (string)
   - description (string)
   - image (string)
   - logo (string)
   - products (number)
   - rating (number)
   - verified (boolean)
   - approved (boolean)
   - deliveryTime (string)
   - tags (array)
   - createdAt (timestamp)

3. products/
   - startupId (string)
   - name (string)
   - price (number)
   - stock (number)
   - description (string)
   - category (string)
   - image (string)
   - available (boolean)
   - createdAt (timestamp)

4. orders/
   - userId (string)
   - items (array)
   - total (number)
   - status (string): "pending", "confirmed", "delivered"
   - deliveryInfo (object)
   - paymentMethod (string)
   - createdAt (timestamp)


ğŸ”’ Ã‰TAPE 6: RÃˆGLES DE SÃ‰CURITÃ‰ FIRESTORE
=========================================

Allez dans "Firestore Database" > "RÃ¨gles"

Remplacez le contenu par:

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Users: lecture pour tous, Ã©criture seulement pour soi-mÃªme
    match /users/{userId} {
      allow read: if request.auth != null;
      allow create: if request.auth.uid == userId;
      allow update: if request.auth.uid == userId;
    }
    
    // Startups: lecture pour tous
    match /startups/{startupId} {
      allow read: if true;
      allow create: if request.auth != null;
      allow update: if request.auth.uid == startupId;
    }
    
    // Products: lecture pour tous, Ã©criture pour propriÃ©taire startup
    match /products/{productId} {
      allow read: if true;
      allow create, update, delete: if request.auth != null;
    }
    
    // Orders: lecture/Ã©criture pour utilisateur concernÃ©
    match /orders/{orderId} {
      allow read, create: if request.auth != null;
      allow update: if request.auth != null;
    }
  }
}

Cliquez "Publier"


ğŸ“± Ã‰TAPE 7: INSTALLER LES DÃ‰PENDANCES
======================================

Dans votre terminal:

cd C:\Users\SHOGUN\pipomarket
npm install firebase
npm install @react-native-async-storage/async-storage


ğŸ“ Ã‰TAPE 8: CONFIGURER FIREBASE DANS LE PROJET
===============================================

1. CrÃ©ez le dossier "config":

mkdir config

2. DÃ©placez "firebase.js" dans ce dossier:

move firebase.js config\

3. Ouvrez "config/firebase.js"

4. REMPLACEZ la configuration (ligne 15-21) par VOS clÃ©s Firebase copiÃ©es Ã  l'Ã©tape 2


ğŸ—‚ï¸ Ã‰TAPE 9: CRÃ‰ER LE DOSSIER SCREENS
======================================

Si pas dÃ©jÃ  fait:

mkdir screens

DÃ©placez tous les fichiers *Screen.js dans ce dossier:
- LoginScreen.js
- RegisterScreen.js
- StartupDashboardScreen.js
- AddProductScreen.js


ğŸ§­ Ã‰TAPE 10: CONFIGURER LA NAVIGATION
======================================

Ouvrez "App.js" et ajoutez les nouvelles routes:

import LoginScreen from './screens/LoginScreen';
import RegisterScreen from './screens/RegisterScreen';
import StartupDashboardScreen from './screens/StartupDashboardScreen';
import AddProductScreen from './screens/AddProductScreen';

// Dans votre Stack.Navigator:

<Stack.Screen name="Login" component={LoginScreen} />
<Stack.Screen name="Register" component={RegisterScreen} />
<Stack.Screen name="StartupDashboard" component={StartupDashboardScreen} />
<Stack.Screen name="AddProduct" component={AddProductScreen} />


ğŸš€ Ã‰TAPE 11: TESTER L'APPLICATION
==================================

1. Relancez le serveur:

npm start

2. Appuyez sur 'w' pour ouvrir dans le navigateur

3. Testez l'inscription:
   - CrÃ©ez un compte CLIENT
   - CrÃ©ez un compte STARTUP

4. Testez la connexion

5. Testez le dashboard startup (si approuvÃ©)


ğŸ‘‘ Ã‰TAPE 12: CRÃ‰ER UN COMPTE ADMIN (IMPORTANT)
===============================================

Pour valider les startups, vous avez besoin d'un admin.

Option 1: Modifier manuellement dans Firebase Console
------------------------------------------------------
1. Allez dans Firestore Database
2. Ouvrez la collection "users"
3. Trouvez VOTRE compte
4. Ajoutez un champ: 
   - Nom: "role"
   - Type: string
   - Valeur: "admin"


Option 2: CrÃ©er un compte admin par code
-----------------------------------------
(On peut crÃ©er un Ã©cran AdminScreen si vous voulez)


ğŸ›¡ï¸ VALIDATION DES STARTUPS
===========================

Les comptes startup sont crÃ©Ã©s avec:
- approved: false

Un admin doit les valider manuellement dans Firebase Console:
1. Allez dans "users"
2. Trouvez le compte startup
3. Changez "approved" Ã  "true"
4. Faites pareil dans "startups"

La startup pourra alors se connecter!


ğŸ“Š STRUCTURE FINALE DU PROJET
==============================

pipomarket/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ firebase.js
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ HomeScreen.js
â”‚   â”œâ”€â”€ StartupsScreen.js
â”‚   â”œâ”€â”€ StartupDetailScreen.js
â”‚   â”œâ”€â”€ CartScreen.js
â”‚   â”œâ”€â”€ CheckoutScreen.js
â”‚   â”œâ”€â”€ LoginScreen.js â† NOUVEAU
â”‚   â”œâ”€â”€ RegisterScreen.js â† NOUVEAU
â”‚   â”œâ”€â”€ StartupDashboardScreen.js â† NOUVEAU
â”‚   â””â”€â”€ AddProductScreen.js â† NOUVEAU
â”œâ”€â”€ data/
â”‚   â””â”€â”€ appData.js
â”œâ”€â”€ App.js
â””â”€â”€ package.json


âœ… CHECKLIST FINALE
===================

â–¡ Projet Firebase crÃ©Ã©
â–¡ Application web configurÃ©e
â–¡ ClÃ©s Firebase copiÃ©es dans firebase.js
â–¡ Authentication activÃ©e (Email/Password)
â–¡ Firestore Database crÃ©Ã©e
â–¡ RÃ¨gles de sÃ©curitÃ© configurÃ©es
â–¡ DÃ©pendances installÃ©es (npm install firebase)
â–¡ Fichiers dans les bons dossiers (config/, screens/)
â–¡ Navigation configurÃ©e dans App.js
â–¡ Application relancÃ©e (npm start)
â–¡ Test inscription client âœ“
â–¡ Test inscription startup âœ“
â–¡ Test connexion âœ“
â–¡ Compte admin crÃ©Ã© pour validation startups


ğŸ¯ FONCTIONNALITÃ‰S DISPONIBLES
===============================

CLIENTS:
âœ… Inscription
âœ… Connexion
âœ… Parcourir les startups
âœ… Ajouter au panier
âœ… Passer commande
âœ… Mode invitÃ© (sans compte)

STARTUPS:
âœ… Inscription (avec validation admin)
âœ… Connexion
âœ… Dashboard vendeur
âœ… Ajouter des produits
âœ… Modifier des produits (TODO: EditProductScreen)
âœ… Marquer disponible/indisponible
âœ… Supprimer des produits
âœ… Voir les statistiques


ğŸš§ Ã€ FAIRE ENSUITE (OPTIONNEL)
===============================

1. EditProductScreen (modifier un produit)
2. AdminDashboard (valider les startups)
3. OrdersScreen (historique commandes client)
4. StartupOrdersScreen (commandes reÃ§ues startup)
5. ProfileScreen (profil utilisateur)
6. Upload photos produits (Firebase Storage)
7. Notifications push
8. Suivi de livraison en temps rÃ©el


ğŸ’¡ CONSEILS
===========

- Sauvegardez vos clÃ©s Firebase en sÃ©curitÃ©
- Ne partagez JAMAIS votre firebase.js avec les clÃ©s
- Activez l'authentification Ã  2 facteurs sur Firebase
- Surveillez les quotas gratuits (50K lectures/jour)
- Testez toujours sur plusieurs appareils


â“ PROBLÃˆMES COURANTS
=====================

1. "Firebase: Error (auth/configuration-not-found)"
   â†’ VÃ©rifiez que vous avez bien copiÃ© TOUTES les clÃ©s

2. "Permission denied"
   â†’ VÃ©rifiez les rÃ¨gles de sÃ©curitÃ© Firestore

3. "Cannot read property 'uid' of null"
   â†’ L'utilisateur n'est pas connectÃ©

4. "Module not found: firebase"
   â†’ ExÃ©cutez: npm install firebase


ğŸ“ SUPPORT
==========

En cas de problÃ¨me:
1. VÃ©rifiez la console Firebase (onglet Authentication, Firestore)
2. VÃ©rifiez la console du navigateur (F12)
3. Relancez: npm start


==============================================
  FÃ‰LICITATIONS ! ğŸ‰
  Votre systÃ¨me d'authentification est prÃªt !
==============================================
